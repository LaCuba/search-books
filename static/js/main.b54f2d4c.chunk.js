(this["webpackJsonpsearch-books"]=this["webpackJsonpsearch-books"]||[]).push([[0],{13:function(e,t,n){e.exports={panel:"Search_panel__3WZnK",resultCount:"Search_resultCount__kEEIk"}},22:function(e,t,n){e.exports={app:"App_app__2ziFi"}},25:function(e,t,n){e.exports={paginator:"SnippetsContainer_paginator__ibf4j"}},26:function(e,t,n){e.exports={preloader:"Preloader_preloader__5Y5ll"}},3:function(e,t,n){e.exports={modal:"Modal_modal__1vwov",modalActive:"Modal_modalActive__us8H9",content:"Modal_content__BZbGL",header:"Modal_header__3jdKb",headerTitle:"Modal_headerTitle___Kwob",cancel:"Modal_cancel__2EYnn",cover:"Modal_cover__2pLUm",info:"Modal_info__3_eoT"}},32:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n(9),a=n.n(o),s=(n(32),n(22)),r=n.n(s),i=n(5),l=n(6),u=n(13),b=n.n(u),j=n(0),p=function(e){var t=Object(c.useState)(""),n=Object(l.a)(t,2),o=n[0],a=n[1],s=Object(c.useState)(0),r=Object(l.a)(s,2),i=r[0],u=r[1];return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:b.a.panel,children:[Object(j.jsx)("input",{type:"text",placeholder:"Search a book.",onChange:function(t){a(t.currentTarget.value),t.currentTarget.value&&(clearTimeout(i),u(setTimeout((function(t){return e.getBooks(t.replaceAll(/\s+/g,"+"))}),1e3,t.currentTarget.value)))},value:o}),Object(j.jsx)("button",{onClick:function(){if(o){var t=o.replaceAll(/\s+/g,"+");e.getBooks(t)}},children:"Search"}),e.count&&Object(j.jsx)("div",{className:b.a.resultCount,children:Object(j.jsxs)("p",{children:["Results: ",e.count]})})]})})},d=n(2),h=n(24),O=n.n(h).a.create({baseURL:"https://openlibrary.org/"}),_=function(e,t){return O.get("search.json?q=".concat(e,"&page=").concat(t)).then((function(e){return e.data}))},v="SET-SNIPPETS",x="SET-VALUE-SEARCH",g="TOGGLE_IS_FETCHING",f="SET-BOOK",k={valueSearch:"",snippets:null,count:null,book:null,isFetching:!1},m=function(e,t){return{type:v,snippets:e,count:t}},S=function(e){return{type:x,value:e}},N=function(e){return{type:g,isFetching:e}},C=function(e){return{type:f,bookKey:e}},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(n){n(N(!0)),_(e,t).then((function(t){n(N(!1)),n(S(e)),n(m(t.docs,t.numFound))}))}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(d.a)(Object(d.a)({},e),{},{snippets:t.snippets,count:t.count});case x:return Object(d.a)(Object(d.a)({},e),{},{valueSearch:t.value});case g:return Object(d.a)(Object(d.a)({},e),{},{isFetching:t.isFetching});case f:return t.bookKey?Object(d.a)(Object(d.a)({},e),{},{book:e.snippets.filter((function(e){return e.key===t.bookKey}))}):Object(d.a)(Object(d.a)({},e),{},{book:null});default:return e}},P=Object(i.b)((function(e){return{count:e.snippets.count}}),{getBooks:F})(p),T=n(3),y=n.n(T),E=n.p+"static/media/book.a929ff68.svg",A=n.p+"static/media/close.c39ccb73.svg",M=function(e){return e.book&&Object(j.jsx)("div",{className:e.book?y.a.modalActive:y.a.modal,onClick:function(){return e.setBook(null)},children:Object(j.jsxs)("div",{className:y.a.content,onClick:function(e){return e.stopPropagation()},children:[Object(j.jsxs)("div",{className:y.a.header,children:[Object(j.jsx)("h3",{className:y.a.headerTitle,children:e.book[0].title}),Object(j.jsx)("div",{className:y.a.cancel,children:Object(j.jsx)("a",{onClick:function(){return e.setBook(null)},children:Object(j.jsx)("img",{src:A,alt:"close"})})})]}),Object(j.jsx)("div",{className:y.a.cover,children:Object(j.jsx)("img",{src:e.book[0].cover_i?"http://covers.openlibrary.org/b/id/"+e.book[0].cover_i+"-L.jpg":E,alt:"cover"})}),Object(j.jsxs)("div",{className:y.a.info,children:[e.book[0].title&&Object(j.jsxs)("div",{className:y.a.title,children:[Object(j.jsx)("b",{children:"Title: "})," ",Object(j.jsx)("p",{children:e.book[0].title})]}),e.book[0].author_name&&Object(j.jsxs)("div",{className:y.a.author,children:[Object(j.jsx)("b",{children:"Author: "}),e.book[0].author_name.length>1?e.book[0].author_name.join(", "):e.book[0].author_name]}),e.book[0].publish_date&&Object(j.jsxs)("div",{className:y.a.datePublish,children:[Object(j.jsx)("b",{children:"Publish date: "}),Object(j.jsx)("p",{children:e.book[0].publish_date[0]})]}),e.book[0].publisher&&Object(j.jsxs)("div",{className:y.a.publisher,children:[Object(j.jsx)("b",{children:"Publisher: "}),Object(j.jsx)("p",{children:e.book[0].publisher[0]})]}),e.book[0].isbn&&Object(j.jsxs)("div",{className:y.a.isbn,children:[Object(j.jsx)("b",{children:"ISBN: "}),Object(j.jsx)("p",{children:e.book[0].isbn[0]})]})]})]})})},K=Object(i.b)((function(e){return{book:e.snippets.book}}),{setBook:C})(M),L=n(7),I=n.n(L),w=function(e){var t="http://covers.openlibrary.org/b/id/"+e.cover+"-S.jpg";return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("a",{className:I.a.container,onClick:function(){return e.setBook(e.bookKey)},children:[Object(j.jsx)("img",{className:I.a.cover,src:e.cover?t:E,alt:"cover"}),Object(j.jsx)("h3",{className:I.a.title,children:e.title}),e.author&&Object(j.jsxs)("div",{className:I.a.author,children:[Object(j.jsx)("b",{children:"Author: "}),Object(j.jsxs)("p",{children:[" ",e.author.length>1?e.author.join(", "):e.author[0]," "]})]})]})})},G=n(8),Y=n.n(G),z=function(e){for(var t=e.countSnippets,n=e.countSnippetsOnPage,o=e.currentPage,a=e.pageClick,s=e.portionSize,r=Math.ceil(t/n),i=[],u=0;u<=r;u++)i.push(u);var b=Math.ceil(r/s),p=Object(c.useState)(1),d=Object(l.a)(p,2),h=d[0],O=d[1],_=(h-1)*s+1,v=h*s;return Object(j.jsxs)("div",{className:Y.a.container,children:[Object(j.jsx)("button",{disabled:h<=1,className:Y.a.prevBtn,onClick:function(){return O(h-1)},children:"\xab"}),i.filter((function(e){return e>=_&&e<=v})).map((function(e){return Object(j.jsx)("a",{className:o===e?Y.a.currentPage:void 0,onClick:function(t){return a(e)},children:e},e)})),Object(j.jsx)("button",{disabled:b<=h,className:Y.a.nextBtn,onClick:function(){return O(h+1)},children:"\xbb"})]})},H=n(25),R=n.n(H),U=n.p+"static/media/preloader.f76f1fbe.gif",Z=n(26),q=n.n(Z),J=function(e){return e.isFetching?Object(j.jsx)("div",{className:q.a.preloader,children:Object(j.jsx)("img",{src:U,alt:"preloader"})}):null},D=Object(i.b)((function(e){return{snippets:e.snippets.snippets,countSnippets:e.snippets.count,value:e.snippets.valueSearch,isFetching:e.snippets.isFetching}}),{setBook:C,getBooks:F})((function(e){var t=Object(c.useState)(1),n=Object(l.a)(t,2),o=n[0],a=n[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(J,{isFetching:e.isFetching}),e.snippets&&Object(j.jsxs)("div",{children:[Object.keys(e.snippets).map((function(t){return Object(j.jsx)(w,{cover:e.snippets[t].cover_i?e.snippets[t].cover_i:null,title:e.snippets[t].title,author:e.snippets[t].author_name?e.snippets[t].author_name:null,bookKey:e.snippets[t].key,setBook:e.setBook},t)})),Object(j.jsx)("div",{className:R.a.paginator,children:Object(j.jsx)(z,{countSnippets:e.countSnippets,countSnippetsOnPage:100,currentPage:o,pageClick:function(t){e.getBooks(e.value,t),a(t)},portionSize:5})})]})]})}));var Q=function(){return Object(j.jsxs)("div",{className:r.a.app,children:[Object(j.jsx)(K,{}),Object(j.jsx)(P,{}),Object(j.jsx)(D,{})]})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,59)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),o(e),a(e),s(e)}))},W=n(10),X=n(27),$=Object(W.b)({snippets:B}),ee=Object(W.c)($,Object(W.a)(X.a));a.a.render(Object(j.jsx)(i.a,{store:ee,children:Object(j.jsx)(Q,{})}),document.getElementById("root")),V()},7:function(e,t,n){e.exports={container:"Snippets_container__ZdljQ",cover:"Snippets_cover__1YrOP",title:"Snippets_title__aFY_b",author:"Snippets_author__2-qGk"}},8:function(e,t,n){e.exports={container:"Paginator_container__33mxT",currentPage:"Paginator_currentPage__1mLAv"}}},[[58,1,2]]]);
//# sourceMappingURL=main.b54f2d4c.chunk.js.map