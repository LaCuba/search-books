{"version":3,"sources":["components/Snippets/Paginator.module.scss","App.module.scss","components/Snippets/SnippetsContainer.module.scss","components/common/Preloader.module.scss","components/Modal/Modal.module.scss","redux/selectors/modal.ts","redux/selectors/search.ts","redux/selectors/snippets.ts","api/api.ts","redux/actions/preloader.ts","redux/actions/search.ts","redux/thunk/thunk.ts","components/Search/Search.tsx","icons/book.svg","icons/close.svg","redux/actions/modal.ts","components/Modal/Modal.tsx","components/Snippets/Snippet.tsx","components/Snippets/Paginator.tsx","icons/preloader.gif","components/common/Preloader.tsx","components/Snippets/SnippetsContainer.tsx","App.tsx","redux/reducers/search-reducer.ts","redux/reducers/reducers.ts","redux/store.ts","index.tsx","components/Search/Search.module.scss","components/Snippets/Snippet.module.scss"],"names":["module","exports","bookKeySelector","state","snippets","bookKey","snippetsSelector","storage","snippetscount","isFetching","instance","axios","create","baseURL","searchApi","value","currentPage","get","then","response","data","toggleIsFetching","createCustomAction","payload","setBooks","setValueSearch","getBooks","dispatch","docs","map","serverBook","key","title","cover_i","publish_date","author_name","isbn","publisher","numFound","Search","count","useSelector","selector","useDispatch","useState","text","setText","timer","setTimer","className","styles","panel","searchInput","type","placeholder","onChange","e","currentTarget","clearTimeout","localTimer","window","setTimeout","replace","searchBtn","onClick","resultCount","setBookKey","Modal","book","filter","snippet","modalActive","modal","content","stopPropagation","header","headerTitle","cancel","src","closeImg","alt","cover","bookImg","info","author","length","join","datePublish","Snippet","coverId","container","Paginator","countSnippets","countSnippetsOnPage","pageClick","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","disabled","prevBtn","p","undefined","nextBtn","Preloader","preloader","SnippetsContainer","setCurrentPage","paginator","valueSearch","App","app","initialState","reducers","action","getType","searchActions","preloaderActions","modalActions","rootReducer","combineReducers","store","createStore","applyMiddleware","thunkCreator","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.29397286.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Paginator_container__33mxT\",\"currentPage\":\"Paginator_currentPage__1mLAv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__2ziFi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"SnippetsContainer_paginator__ibf4j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__5Y5ll\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"Modal_modal__1vwov\",\"modalActive\":\"Modal_modalActive__us8H9\",\"content\":\"Modal_content__BZbGL\",\"header\":\"Modal_header__3jdKb\",\"headerTitle\":\"Modal_headerTitle___Kwob\",\"cancel\":\"Modal_cancel__2EYnn\",\"cover\":\"Modal_cover__2pLUm\",\"info\":\"Modal_info__3_eoT\"};","import { RootState } from \"../store\"\n\nexport const bookKeySelector = (state: RootState) => state.snippets.bookKey\nexport const snippetsSelector = (state: RootState) => state.snippets.storage.snippets","import { RootState } from \"../store\";\n\nexport const snippetscount = (state: RootState) => state.snippets.storage.snippetscount","import { RootState } from \"../store\";\n\nexport const storage = (state: RootState) => state.snippets.storage\n\nexport const isFetching = (state: RootState) => state.snippets.isFetching","import axios from \"axios\";\n\nconst instance = axios.create({\n  baseURL: 'https://openlibrary.org/'\n})\n\nexport const searchApi = {\n  getBooks(value: string, currentPage: number) {\n    return(\n      instance.get(`search.json?q=${value}&page=${currentPage}`)\n      .then(response => response.data)\n    )\n  }\n}","import { createCustomAction } from \"typesafe-actions\";\n\nexport const toggleIsFetching = createCustomAction('preloader/TOGGLE-IS-FETCHING',\n  (isFetching: boolean) => ({\n    payload: { isFetching }\n  }))\n\n","import { createCustomAction } from \"typesafe-actions\"\n\nexport const setBooks = createCustomAction('search/SET-SNIPPETS',\n  (snippets: any, snippetscount: number) => ({\n    payload: { snippets, snippetscount }\n  }))\n\nexport const setValueSearch = createCustomAction('search/SET-VALUE-SEARCH',\n  (value: string) => ({\n    payload: { value }\n  }))\n","import { searchApi } from \"../../api/api\"\nimport { toggleIsFetching } from \"../actions/preloader\"\nimport { setBooks, setValueSearch } from \"../actions/search\"\n\nexport type SnippetType = {\n  key: string\n  title: string\n  cover_i: string | null\n  publish_date: Array<string> | null\n  author_name: Array<string> | null\n  isbn: Array<string>\n  publisher: Array<string> | null\n}\n\nexport const getBooks = (value: string, currentPage = 1) => (dispatch: any) => {\n  dispatch(toggleIsFetching(true))\n  searchApi.getBooks(value, currentPage)\n  .then(response => {\n    const snippets = response.docs.map((serverBook: SnippetType) => {\n      return {\n        key: serverBook.key,\n        title: serverBook.title,\n        cover_i: serverBook.cover_i || null,\n        publish_date: serverBook.publish_date || null,\n        author_name: serverBook.author_name || null,\n        isbn: serverBook.isbn,\n        publisher: serverBook.publisher || null\n      }\n    })\n\n    dispatch(toggleIsFetching(false))\n    dispatch(setValueSearch(value))\n    dispatch(setBooks(snippets, response.numFound))\n  })\n}","import React from 'react'\nimport { useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport * as selector from './../../redux/selectors/selectors'\nimport { getBooks } from '../../redux/thunk/thunk'\nimport styles from './Search.module.scss'\n\nconst Search = () => {\n\n  const count = useSelector(selector.search.snippetscount)\n  const dispatch = useDispatch()\n\n  const [text, setText] = useState('')\n  const [timer, setTimer] = useState(0)\n\n  const onSearchChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setText(e.currentTarget.value)\n    if (e.currentTarget.value) {\n      clearTimeout(timer)\n      const localTimer = window.setTimeout((value: string) => \n        dispatch(getBooks(value.replace(/\\s+/g, '+'))), 1000, e.currentTarget.value)\n      setTimer(localTimer)\n    }\n  }\n\n  const searchBooks = () => {\n    if (text) {\n      const value = text.replace(/\\s+/g, '+')\n      dispatch(getBooks(value))\n    }\n  }\n\n  return <div className={styles.panel}>\n      <input className={styles.searchInput} type=\"text\" placeholder=\"Search a book.\" onChange={onSearchChange} value={text} />\n      <button className={styles.searchBtn} onClick={searchBooks}>Search</button>\n      {count && <div className={styles.resultCount}>\n        <p>Results: {count}</p>\n      </div>}\n    </div>\n}\n\nexport default Search","export default __webpack_public_path__ + \"static/media/book.a929ff68.svg\";","export default __webpack_public_path__ + \"static/media/close.c39ccb73.svg\";","import { createCustomAction } from \"typesafe-actions\"\n\nexport const setBookKey = createCustomAction('modal/SET-BOOK', (bookKey: string | null) => ({\n  payload: { bookKey }\n}))","import React from 'react'\nimport styles from './Modal.module.scss'\nimport bookImg from './../../icons/book.svg'\nimport closeImg from './../../icons/close.svg'\nimport * as selector from './../../redux/selectors/selectors'\nimport { setBookKey } from \"../../redux/actions/modal\"\nimport { useDispatch, useSelector } from 'react-redux'\n\nconst Modal = () => {\n\n  const dispatch = useDispatch()\n\n  const bookKey = useSelector(selector.modal.bookKeySelector)\n  const snippets = useSelector(selector.modal.snippetsSelector)\n\n  const book = bookKey && snippets && snippets.filter(snippet => snippet.key === bookKey)\n\n  return (<>\n    {book &&\n    <div className={book ? styles.modalActive : styles.modal} onClick={() => dispatch(setBookKey(null))}>\n      <div className={styles.content} onClick={e => e.stopPropagation()}>\n        <div className={styles.header}>\n          <h3 className={styles.headerTitle}>{book[0].title}</h3>\n          <div className={styles.cancel}>\n            <a onClick={() => dispatch(setBookKey(null))}>\n              <img src={closeImg} alt=\"close\" />\n            </a>\n          </div>\n        </div>\n        <div className={styles.cover}>\n          <img src={book[0].cover_i \n            ? 'http://covers.openlibrary.org/b/id/' + book[0].cover_i + '-L.jpg'\n            : bookImg} alt=\"cover\" />\n        </div>\n        <div className={styles.info}>\n          {book[0].title && <div className={styles.title}>\n            <b>Title: </b> <p>{book[0].title}</p>\n          </div>}\n          {book[0].author_name && <div className={styles.author}>\n            <b>Author: </b>\n            {book[0].author_name.length > 1 \n              ? book[0].author_name.join(', ') \n              : book[0].author_name }\n          </div>}\n          {book[0].publish_date && <div className={styles.datePublish}>\n            <b>Publish date: </b>\n            <p>\n              {book[0].publish_date[0]}\n            </p>\n          </div>}\n          {book[0].publisher && <div className={styles.publisher}>\n            <b>Publisher: </b>\n            <p>\n              {book[0].publisher[0]}\n            </p>\n          </div>}\n          {book[0].isbn && <div className={styles.isbn}>\n            <b>ISBN: </b>\n            <p>\n              {book[0].isbn[0]}\n            </p>\n          </div>}\n        </div>\n      </div>\n    </div>}\n  </>)\n} \n\nexport default Modal","import React, { FC } from 'react'\nimport styles from './Snippet.module.scss'\nimport bookImg from './../../icons/book.svg'\nimport { useDispatch } from 'react-redux'\n\ntype SnippetPropsType = {\n  coverId: string | null\n  title: string\n  author: Array<string> | null\n  bookKey: string\n  setBookKey: (bookKey: string) => void\n}\n\nconst Snippet: FC<SnippetPropsType> = ({ coverId, title, author, bookKey, setBookKey }) => {\n\n  const dispatch = useDispatch()\n\n  return <>\n    <a className={styles.container} onClick={() => dispatch(setBookKey(bookKey))}>\n      <img className={styles.cover} src={coverId\n        ? 'http://covers.openlibrary.org/b/id/' + coverId + '-S.jpg'\n        : bookImg} alt=\"cover\" />\n      <h3 className={styles.title}>{title}</h3>\n      {author && <div className={styles.author}>\n        <b>Author: </b><p> {author.length > 1 ? author.join(', ') : author[0]} </p>\n      </div>}\n    </a>\n  </>\n}\n\nexport default Snippet","import React, { FC, useState } from 'react'\nimport styles from './Paginator.module.scss'\n\ntype Paginator = {\n  countSnippets: number\n  currentPage: number\n  countSnippetsOnPage?: number\n  portionSize?: number\n  pageClick: (p: number) => void\n}\n\nconst Paginator: FC<Paginator> = ({ countSnippets, countSnippetsOnPage = 100, \n  currentPage, pageClick, portionSize = 5 }) => {\n\n  const pagesCount = Math.ceil(countSnippets / countSnippetsOnPage)\n\n  const pages = []\n\n  for (let i = 0; i <= pagesCount; i++) {\n    pages.push(i);\n  }\n\n  const portionCount = Math.ceil(pagesCount / portionSize)\n  const [portionNumber, setPortionNumber] = useState(1)\n  const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\n  const rightPortionPageNumber = portionNumber * portionSize\n\n  return (\n    <div className={styles.container}>\n      <button disabled={portionNumber <= 1} className={styles.prevBtn}\n        onClick={() => setPortionNumber(portionNumber - 1)}>&laquo;</button>\n      {pages\n        .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n        .map(p => {\n          return <a key={p} className={currentPage === p ? styles.currentPage : undefined}\n            onClick={e => pageClick(p)}>{p}</a>\n        })}\n      <button disabled={portionCount <= portionNumber} className={styles.nextBtn}\n        onClick={() => setPortionNumber(portionNumber + 1)}>&raquo;</button>\n    </div>\n  )\n}\n\nexport default Paginator","export default __webpack_public_path__ + \"static/media/preloader.f76f1fbe.gif\";","import React, { FC } from 'react'\nimport preloader from './../../icons/preloader.gif'\nimport styles from './Preloader.module.scss'\n\ntype PreloaderProps = {\n  isFetching: boolean\n}\n\nconst Preloader: FC<PreloaderProps> = ({ isFetching }) => {\n  return isFetching\n    ? <div className={styles.preloader}>\n      <img src={preloader} alt=\"preloader\" />\n    </div>\n    : null\n}\n\nexport default Preloader","import React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Snippet from './Snippet'\nimport { getBooks } from '../../redux/thunk/thunk'\nimport { setBookKey } from '../../redux/actions/modal'\nimport Paginator from './Paginator'\nimport { useState } from 'react'\nimport styles from './SnippetsContainer.module.scss'\nimport Preloader from '../common/Preloader'\nimport * as selector from './../../redux/selectors/selectors'\n\nconst SnippetsContainer = () => {\n\n  const [currentPage, setCurrentPage] = useState(1)\n  \n  const storage = useSelector(selector.snippets.storage)\n  const isFetching = useSelector(selector.snippets.isFetching)\n\n  const dispatch = useDispatch()\n\n  const pageClick = (p: number) => {\n    dispatch(getBooks(storage.valueSearch, p))\n    setCurrentPage(p)\n  }\n\n  return <>\n    <Preloader isFetching={isFetching} />\n    {storage.snippets &&\n      <div>\n        {storage.snippets.map(snippet => <Snippet key={snippet.key}\n            coverId={snippet.cover_i ? snippet.cover_i : null}\n            title={snippet.title}\n            author={snippet.author_name ? snippet.author_name : null}\n            bookKey={snippet.key}\n            setBookKey={setBookKey}\n          />)}\n        <div className={styles.paginator}>\n          {storage.snippetscount && <Paginator countSnippets={storage.snippetscount}\n            currentPage={currentPage}\n            pageClick={pageClick}\n          />}\n        </div>\n      </div>}\n  </>\n}\n\nexport default SnippetsContainer","import React from 'react'\nimport styles from './App.module.scss';\nimport Search from './components/Search/Search'\nimport Modal from './components/Modal/Modal'\nimport SnippetsContainer from './components/Snippets/SnippetsContainer';\n\nfunction App() {\n\n  return (\n    <div className={styles.app}>\n      <Modal />\n      <Search />\n      <SnippetsContainer />\n    </div>\n  );\n}\n\nexport default App;\n","import { Reducer } from \"react\"\nimport * as searchActions from \"../actions/search\"\nimport * as modalActions from \"../actions/modal\"\nimport * as preloaderActions from \"../actions/preloader\"\nimport { SnippetType } from \"../thunk/thunk\"\nimport { Actions } from \"../actions/actions\"\nimport { getType } from \"typesafe-actions\"\n\ntype StorageType = {\n  valueSearch: string\n  snippets: null | Array<SnippetType>\n  snippetscount: null | number\n}\n\nconst initialState = {\n  storage: {\n    valueSearch: '',\n    snippets: null,\n    snippetscount: null,\n  } as StorageType,\n  bookKey: null as null | string,\n  isFetching: false\n}\n\ntype InitialStateType = typeof initialState\n\nconst SearchReducer = (state = initialState, action: Actions): InitialStateType => {\n  switch (action.type) {\n    case getType(searchActions.setBooks):\n      return {\n        ...state,\n        storage: {\n          ...state.storage,\n          snippets: action.payload.snippets,\n          snippetscount: action.payload.snippetscount\n        }\n      }\n    case getType(searchActions.setValueSearch):\n      return {\n        ...state,\n        storage: {\n          ...state.storage,\n          valueSearch: action.payload.value\n        }\n      }\n    case getType(preloaderActions.toggleIsFetching):\n      return {\n        ...state,\n        isFetching: action.payload.isFetching\n      }\n    case getType(modalActions.setBookKey):\n      if (action.payload.bookKey) {\n        return {\n          ...state,\n          bookKey: action.payload.bookKey\n        }\n      }\n      return {\n        ...state,\n        bookKey: null\n      }\n    default:\n      return state\n  }\n}\n\nexport default SearchReducer","import SearchReducer from \"./search-reducer\";\n\nconst reducers = {\n  snippets: SearchReducer\n}\n\nexport default reducers","import { createStore, combineReducers, applyMiddleware } from 'redux'\nimport thunkCreator from 'redux-thunk'\nimport reducers from './reducers/reducers'\n\nconst rootReducer = combineReducers(reducers)\n\nconst store = createStore(rootReducer, applyMiddleware(thunkCreator))\n\nexport type RootState = ReturnType<typeof store.getState>\n\nexport type AppDispatch = typeof store.dispatch\n\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"Search_panel__3WZnK\",\"searchInput\":\"Search_searchInput__1W1ZZ\",\"searchBtn\":\"Search_searchBtn__31epz\",\"resultCount\":\"Search_resultCount__kEEIk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Snippet_container__3MBoh\",\"cover\":\"Snippet_cover__3bEPO\",\"title\":\"Snippet_title__3TvQV\",\"author\":\"Snippet_author__26NEG\"};"],"sourceRoot":""}